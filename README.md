# HaHaTone228_PAW_AI – командная работа с Git

Этот файл – краткая инструкция для нашей команды, как правильно работать с репозиторием, чтобы:

- не ломать друг другу код,
- не путаться в ветках,
- удобно мёржить изменения.

Репозиторий:  
https://github.com/Feluxa/HaHaTone228_PAW_AI

---

## 1. Как клонировать репозиторий

Один раз, когда начинаем работу на новом компьютере:

```bash
git clone https://github.com/Feluxa/HaHaTone228_PAW_AI.git
cd HaHaTone228_PAW_AI
```

## 2. Как подтянуть все ветки с GitHub

После того, как зашли в папку проекта:
```
git fetch --all
git branch -a   # посмотреть все ветки (локальные и удалённые)
```

3. Ветки и распределение

У нас несколько веток. Для разработки логика такая:

main – главная стабильная ветка (то, что сдаём).

dev – общая ветка разработки (в неё мёржим фичи).

Личные/фичевые ветки (пример, фактические имена смотрим через git branch -a):

feature/felix

feature/maxim

feature/zhenya

⚠️ Важно: не работаем напрямую в main.
Код пишем в личных ветках → делаем Pull Request → мёржим в dev (и уже потом, при необходимости, в main).

4. Как перейти в свою ветку
Общая схема

Обновляем список веток и забираем последние изменения:
```
git fetch --all
```

Переходим в нужную ветку:
```
git checkout НАЗВАНИЕ_ВЕТКИ
```

Для Феликса (пример: ветка feature/felix)
```
git fetch --all
git checkout feature/felix
```
Для Максима (пример: ветка feature/maxim)
```
git fetch --all
git checkout feature/maxim
```

Для Жени (пример: ветка feature/zhenya)
```
git fetch --all
git checkout feature/zhenya
```

Если ветка уже есть на GitHub, но ещё не локально – git checkout создаст локальную копию и переключит на неё.

5. Перед началом работы: как подтянуть последние изменения из dev или main

Чтобы не работать на старой версии кода, перед началом сессии:

Шаги (пример с dev)

Перейти в ветку dev и обновить её:
```
git checkout dev
git pull
```
Вернуться в свою ветку:
```
git checkout feature/ИМЯ
```

Влить изменения из dev в свою ветку:
```
git merge dev
```

Если вы хотите синхронизироваться именно с main, то вместо dev используете main:
```
git checkout main
git pull

git checkout feature/ИМЯ
git merge main
```

Если при merge появятся конфликты – нужно будет открыть указанные файлы, вручную их поправить, затем:
```
git add ИМЯ_ФАЙЛА
git commit
```

6. Стандартный цикл работы в своей ветке

Одинаковый для каждого участника.

1️⃣ Перейти в свою ветку (если ещё не там)
```
git checkout feature/ИМЯ
```

2️⃣ Делать изменения в коде

Работаем в файлах проекта (пишем код, правим, добавляем).

3️⃣ Проверить статус
```
git status
```
4️⃣ Добавить файлы в коммит

Добавить все изменённые файлы:
```
git add .
```

или выборочно:
```
git add backend/app/main.py
```
5️⃣ Сделать коммит
```
git commit -m "Кратко описать, что сделал"
```

Примеры сообщений:

"Добавил базовый сервер FastAPI"

"Реализовал индексатор для .py файлов"

"Интегрировал GigaChat в /ask"

6️⃣ Отправить изменения на GitHub
```
git push
```

Если это первый пуш новой ветки, то может понадобиться:
```
git push -u origin feature/ИМЯ
```

(после этого в следующий раз достаточно будет просто git push).

7. Как отправить свою работу в общую ветку (dev / main)

Когда вы заканчиваете часть задачи и хотите внести её в общий проект:

Убедиться, что все изменения закоммичены и запушены:
```
git status   # должно быть "nothing to commit, working tree clean"
git push
```

✅ 4. Запушить в нужную ветку
```
git push origin feature/maxim
```

Зайти на GitHub:
https://github.com/Feluxa/HaHaTone228_PAW_AI

Открыть вкладку Pull requests.

Нажать “New pull request”:

Base (куда мёржим): обычно dev (или main, если так решено).

Compare (из какой ветки): ваша ветка, например feature/felix.

Написать короткое описание: что сделано в этом PR.

Создать Pull Request и попросить созаемников посмотреть и смержить.

8. Как забрать последнюю версию dev / main в свою ветку (ещё раз кратко)
Обновиться от dev:
```
git checkout dev
git pull

git checkout feature/ИМЯ
git merge dev
```

Обновиться от main:
```
git checkout main
git pull

git checkout feature/ИМЯ
git merge main
```

После merge:

если конфликтов нет – всё готово, можно продолжать работать;

если есть конфликты – правим файлы, затем:
```
git add ИМЯ_ФАЙЛА
git commit
```

---

## 🔧 Активация виртуального окружения (venv)

Перед запуском сервера нужно активировать виртуальное окружение.

создать через
```
python -m venv venv
```

### ▶️ Windows (PowerShell)

```bash
venv\Scripts\Activate
```

⏹ Деактивация виртуального окружения
```
deactivate
```

---

🔒 Пример файла .env

Файл .env должен лежать в папке backend/:
```
backend/.env
```

# Authorization Key из личного кабинета developers.sber.ru - ЭТО ВАШ АПИ ВСТАВИТЬ В "СЮДА"
GIGACHAT_CREDENTIALS="Basic_xxx_your_key_here_xxx"

# Область доступа (обычно GIGACHAT_API_PERS) ЭТО ПРОСТО КОПИПАСТ
GIGACHAT_SCOPE=GIGACHAT_API_PERS

# Проверка SSL-сертификатов (на хакатоне можно отключить) ЭТО ПРОСТО КОПИПАСТ
GIGACHAT_VERIFY_SSL_CERTS=False

---

## Установка зависимостей
```
pip install -r requirements.txt
```

---

## 🚀 Запуск сервера (FastAPI + Uvicorn)

Перед запуском убедитесь, что активировано виртуальное окружение:

```bash
venv\Scripts\Activate
```
Теперь переходим в папку backend:
```bash
cd backend
```
Запускаем сервер:

```bash
uvicorn app.main:app --reload
```
После запуска сервер будет доступен по адресу:

```
http://127.0.0.1:8000
```

---

FastAPI автоматически создаёт красивую документацию.

Открой:

http://127.0.0.1:8000/docs


Там доступно:

GET /health — проверка сервера

POST /ask — отправка вопроса (идёт запрос к GigaChat)

Чтобы протестировать:

Нажми POST /ask

Нажми Try it out

Вставь такой JSON:
```json
{
  "question": "Привет, ты работаешь?"
}
```

Нажми Execute


Ты увидишь реальный ответ от GigaChat.
