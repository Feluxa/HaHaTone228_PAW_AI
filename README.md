🚀 Reddit Code Assistant — AI-ассистент для анализа кода монорепозитория Reddit

Этот проект — умный помощник для разработчиков, который с помощью RAG (Retrieval-Augmented Generation), векторного поиска, GigaChat, и продвинутой фронтенд-обвязки позволяет:

искать и анализировать фрагменты огромного монорепозитория Reddit,

отвечать на технические вопросы,

указывать точные файлы и строки,

объяснять логику функций и классов,

давать рекомендации по доработкам в коде,

а также вести обычный разговор, если вопрос не про код.

И всё это — в одном интерфейсе, с подсветкой синтаксиса, историей запросов и двумя режимами работы.

✨ Основные возможности
🧠 AI-ассистент с двумя режимами
1. CODE (RAG Mode) — анализ кода репозитория Reddit

Ассистент:

ищет релевантные фрагменты в векторной базе (все файлы .py, .json, .md, .txt, конфиги),

показывает найденные куски кода,

формирует структурированный ответ:

краткое описание;

важные фрагменты;

детальный разбор;

рекомендации;

ограничения.

Использует GigaChat для генерации ответа.

2. CHAT Mode — обычный разговор

Если вопрос не связан с кодом:

ассистент отвечает как обычный чат-бот,

без поиска по векторной базе,

с юмором и естественной формой общения.

Переключение режима происходит автоматически с помощью модели-классификатора (GigaChat).

🔍 Индексация и векторное хранилище

Проект индексирует:

*.py — функции, классы, статические данные,

*.json — настройки и структуры,

*.md — документацию,

*.txt — текстовые файлы,

конфиги (ini, cfg, conf, yaml),

docstrings и комментарии внутри кода.

Для каждого файла создаются чанки с метаданными:

путь,

номера строк,

содержимое,

тип файла.

Используется ChromaDB + GigaChat Embeddings.

✔ Обработка > 4000 чанков кода
✔ Ограничение токенов учитывается, длинные чанки автоматически режутся
✔ На всё построение индекса — несколько секунд

🔥 Backend (FastAPI)
Основные фичи backend:

/ask — главный эндпоинт ассистента.

Встроенная классификация вопроса (CODE / CHAT).

Логирование всех этапов:

классификация,

режим,

подобранные чанки,

сумма найденных результатов,

отправка и получение ответа от GigaChat.

Корректная обработка ситуаций:

когда сниппетов нет,

когда информация не связана с вопросом,

когда модель ошибается.

Backend возвращает:
```
{
  "answer": "...",
  "snippets": [...],
  "mode": "CODE" | "CHAT"
}
```

Полный файл main.py уже реализован и отлажен.

🎨 Frontend (static HTML)

Фронтенд — полностью кастомный, без фреймворков, но роскошный.

Возможности фронта:
✅ Интерактивный UI

отображает текущий режим ответа (CODE / CHAT),

выводит markdown с подсветкой синтаксиса (highlight.js),

показывает найденные сниппеты кода,

адаптивная верстка.

🎡 Loader-анимация

При запросе — плавный индикатор загрузки.

🌓 Тёмная / светлая тема

переключатель в реальном времени;

сохраняется в LocalStorage;

динамическое переключение CSS темы highlight.js.

🕒 История запросов

сохраняется справа,

каждый элемент кликабелен,

показывает режим (Code/Chat),

номер запроса,

короткий предпросмотр текста.

📝 Работа с Enter / Ctrl+Enter

Enter — новая строка,

Ctrl+Enter или Cmd+Enter — отправка.

🏗 Архитектура проекта
```
root
│
├── app/
│   ├── main.py            # FastAPI backend
│   ├── vector_store.py    # ChromaDB + indexing
│   ├── indexing.py        # построение базы
│   ├── embeddings.py      # GigaChat Embedding
│   └── gigachat_client.py # функции для запросов к GigaChat
│
├── static/
│   ├── index.html         # фронтенд (UI)
│   └── ...
│
└── README.md              # этот файл
```
🛠 Как запустить проект
1. Установить зависимости
```
pip install -r requirements.txt
```
2. Построить векторный индекс
```
python -m app.indexing
```
3. Запустить сервер
```
uvicorn app.main:app --reload
```
4. Перейти в браузере:
http://127.0.0.1:8000/

🧪 Примеры использования
Технический запрос (CODE)

как происходит авторизация пользователя?

Ассистент:

включает RAG-режим,

ищет 5 релевантных чанков,

выводит файлы, строки, код,

объясняет логику,

указывает что ещё посмотреть.

Обычный вопрос (CHAT)

кто убил чупапи муняня?

Ассистент отвечает как человек, без RAG.

🙌 Команда проекта

Архитектура системы

Многоуровневый RAG

Frontend/UI/UX

Интеграция с GigaChat

Векторизация и обработка данных


💡 Итог

Мы сделали полноценный AI-ассистент для большого монорепозитория, который:

✔ анализирует код,
✔ ищет нужные фрагменты,
✔ объясняет логику,
✔ подсказывает изменения,
✔ понимает обычные вопросы,
✔ и работает в красивом современном UI.
